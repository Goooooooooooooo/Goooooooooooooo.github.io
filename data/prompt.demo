你是一名资深后端 / 平台架构工程师。

我现在有一个已经跑通的 event hook demo，
该 demo 已经验证了：
- hook 的触发时机是正确的
- API 形态已经被下游使用
- 行为逻辑不能被推翻或重写

目标不是“重写代码”，而是：
在【尽量少修改 demo 代码】的前提下，
将其升级为可用于生产环境的实现。

请严格遵守以下约束：
1. 不允许改变现有 demo 的核心执行逻辑
2. 不允许随意调整已有 API 的入参和返回值
3. 所有改动应通过“包一层 / 增强外围能力”的方式完成

请你分步骤完成以下任务：

Step 1  
请指出当前 demo 中：
- 哪些部分是“仅适合 demo 的实现”
- 哪些部分是“生产环境存在风险的点”
（不需要给代码，只需分析）

Step 2  
请设计一个【最小侵入式】的生产化改造方案，重点补充：
- 生命周期管理（如 hook runtime）
- 执行边界（超时、错误兜底）
- 执行上下文隔离（context 只读）
- 可观测性（最小日志即可）

Step 3  
请给出：
- 新增的模块/类结构（不需要重写 demo）
- demo 如何“被调用”而不是“被替换”

Step 4  
请列出：
- 必须做的改造（MUST）
- 可以延后做的优化（NICE TO HAVE）

请保持方案务实、工程可落地，
避免过度抽象或引入不必要的设计模式。
